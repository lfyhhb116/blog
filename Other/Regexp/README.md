### 正则表达式

#### 描述

正则表达式是⼀组由字⺟和符号组成的特殊⽂本，它可以⽤来从⽂本中找出满⾜你想要的格式的句⼦

#### 点运算符(.) 

匹配任意单个字符，但不匹配换⾏符

例如：.ar 匹配⼀个任意字符后⾯跟着是a和r的字符串

#### 字符集([])

匹配⽅括号内的任意字符，在⽅括号中的字符集不关⼼顺序，⽅括号的.就表示.

例如：[Tt]he匹配the和The，ar[.]匹配ar.字符串

#### 否定字符集(^)

⼀般来说^表示⼀个字符串的开头，但它⽤在⼀个⽅括号的开头的时候，它表示这个字符集是否定的

例如： [\^c]ar匹配⼀个后⾯跟着ar的除了c的任意字符，[\^abc\]和[\^a-c]是一样的。他们匹配'brisket'中的'r'，也匹配'chop'中的'h'

#### 重复次数

##### *：匹配在 * 之前的字符出现⼤于等于0次

例如：a* 匹配0或更多个以a开头的字符。[a-z]* 匹配⼀个⾏中所有以⼩写字⺟开头的字符串，\s*cat\s* 匹配0或更多个空格开头和0或更多个空格结尾的cat字符串

##### +：匹配 + 之前的字符出现 >=1 次

例如：c.+t 匹配以⾸字⺟ c 开头以 t 结尾，中间跟着⾄少⼀个字符的字符串

##### ?：匹配 ? 前⾯的字符为可选，即出现0或1次

例如：[T]?he 匹配字符串he和The

#### {}

常⽤来限定⼀个或⼀组字符可以重复出现的次数

例如：[0-9]{2,3}匹配最少2位最多3位0~9的数字，[0-9]{2,}匹配⾄少两位0~9的数字，[0-9]{3}匹配3位数字

#### 或运算符(|)

⽤作判断条件

例如：(T|t)he|car匹配 (T|t)he或car 

#### 转码特殊字符(\\)

⽤于指定 { } [ ] / \ + * . $ ^ | ? 等这些特殊字符。如果想要匹配这些特殊字符则要在其前⾯加上反斜线\

#### 锚点

##### ^ 指定开头

检查匹配的字符串是否在所匹配字符串的开头

例如：^(T|t)he匹配以The或the开头的字符串

##### $ 指定结尾

匹配字符是否是最后⼀个

例如：(at\.)$匹配以at.结尾的字符串

#### 简单字符集

| 简写 | 描述                                              |
| ---- | ------------------------------------------------- |
| .    | 除换⾏符外的所有字符                              |
| \w   | 匹配所有字⺟数字，等同于 [a-zA-Z0-9_]             |
| \W   | 匹配所有⾮字⺟数字，即符号，等同于： [\^\w]       |
| \d   | 匹配数字： [0-9]                                  |
| \D   | 匹配⾮数字： [\^\d]                               |
| \s   | 匹配所有空格字符，等同于： [\t\n\f\r\p{Z}]        |
| \S   | 匹配所有⾮空格字符： [\^\s]                       |
| \f   | 匹配⼀个换⻚符                                    |
| \n   | 匹配⼀个换⾏符                                    |
| \r   | 匹配⼀个回⻋符                                    |
| \t   | 匹配⼀个制表符                                    |
| \v   | 匹配⼀个垂直制表符                                |
| \p   | 匹配 CR/LF（等同于 \r\n ），⽤来匹配 DOS ⾏终⽌符 |

####  忽略⼤⼩写(i)

例如：/The/gi表示忽略⼤⼩写在全局搜索The

#### 全局搜索(g)

例如：/.(at)/g表示搜索任意字符(除了换⾏)+at ，并返回全部结果

#### 多⾏修饰符(m)

多⾏修饰符m常⽤于执⾏⼀个多⾏匹配

例如：/at(.)?$/gm表示at，末尾可选除换⾏符外任意字符。根据m修饰符，现在表达式匹配每⾏的结尾

#### 单词边界(\b)

匹配一个单词边界，即字与空格间的位置。如果位于要匹配的字符串的开始，在单词的开始处查找匹配项。如果位于字符串的结尾，在单词的结尾处查找匹配项

例如：/ter\b/匹配单词Chapter中的字符串ter

#### 非单词边界(\B)

非单词边界匹配

例如：/\Bapt/匹配Chapter中的字符串apt，但不匹配aptitude中的字符串apt

#### 捕获(存储)分组()

把每个分组里的匹配的值保存起来，使用$n(n是一个数字，表示第n个捕获组的内容)，从左向右，以分组的左括号为标志，第一个出现的分组的组号为1，第二个为2，以此类推

```
const regexp = /(?<=(href=")).{1,200}(?=(">))/g;
const str = '<a target=_blank href="www.baidu.com">百度一下</a>';
const array = [...str.matchAll(regexp)];
console.log(array[0]);
//['www.baidu.com', 'href="', '">', index: 23, input: '<a target=_blank href="www.baidu.com">百度一下</a>', groups: undefined]

正则表达式：(?<=(href=")).{1,200}(?=(">))
解释：(?<=(href="))表示匹配以(href=")开头的字符串，并且捕获(存储)到分组中，(?=(">))表示匹配以(">)结尾的字符串，并且捕获(存储)到分组中
```

#### 非捕获(不存储)分组(?:)

捕获分组唯一的区别在于，非捕获分组匹配的值不会保存起来

```
const regexp = /(?<=(?:href=")).{1,200}(?=(?:">))/g;
const str = '<a target=_blank href="www.baidu.com">百度一下</a>';
const array = [...str.matchAll(regexp)];
console.log(array[0]);
//['www.baidu.com', index: 23, input: '<a target=_blank href="www.baidu.com">百度一下</a>', groups: undefined]

正则表达式：(?<=(?:href=")).{1,200}(?=(?:">))
解释：(?<=(?:href="))表示匹配以(href=")开头的字符串，并且不捕获(不存储)到分组中，(?=(?:">))表示匹配以(">)结尾的字符串，并且不捕获(不存储)到分组中
```

#### 零宽先行断言(?=exp)

匹配exp前面的位置，匹配文本中的某些位置，这些位置的后面能匹配给定的后缀exp

例如：\b\w+(?=ing\b)，匹配以ing结尾的单词的前面部分(除了ing以外的部分)，在查找I'm singing while you're dancing，匹配sing和danc

#### 零宽负向先行断言(?!exp) 

匹配后面跟的不是exp的位置

例如：\d{3}(?!\d)匹配三位数字，而且这三位数字的后面不能是数字

#### 零宽后行断言(?<=exp) 

匹配exp后面的位置，匹配文本中的某些位置，这些位置的前面能给定的前缀匹配exp

例如：(?<=\bre)\w+\b会匹配以re开头的单词的后半部分(除了re以外的部分)，在查找reading a book，匹配ading

#### 零宽负向后行断言(?<!exp)

匹配前面不是exp的位置

例如：(?<![a-z])\d{7}匹配前面不是小写字母的七位数字

#### 向前断言(x(?=y))

x被y跟随时匹配x

例如：/Jack(?=Sprat)/，Jack在跟有Sprat的情况下才会得到匹配。/Jack(?=Sprat|Frost)/，Jack后跟有Sprat或Frost的情况下才会得到匹配。不过， 匹配结果不包括Sprat或Frost

#### 向前否定断言(x(?!y))

x没有被y紧随时匹配x

例如：/\d+(?!\.)/，数字后没有跟随小数点的情况下才会得到匹配。/\d+(?!\.)/.exec(3.141)，匹配141而不是3

#### 向后断言((?<=y)x)

x跟随y的情况下匹配x

例如：/(?<=Jack)Sprat/，Sprat紧随Jack时才会得到匹配。对于/(?<=Jack|Tom)Sprat，Sprat在紧随Jack或Tom的情况下才会得到匹配。不过，匹配结果中不包括Jack或Tom

#### 向后否定断言((?<!y)x)

x 不跟随 y 时匹配 x

例如：/(?<!-)\d+/，数字不紧随-符号的情况下才会得到匹配。/(?<!-)\d+/.exec(3) ，3得到匹配。 而/(?<!-)\d+/.exec(-3)的结果无匹配，这是由于数字之前有-符号

#### 正则在线教程

菜鸟正则在线教程：https://c.runoob.com/front-end/854/

MDN-正则表达式：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions